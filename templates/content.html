{% extends 'index.html' %}

{% block title %}
Content
{% endblock %}


{% block content %}
<div class="container"><form action="{{ url_for('content') }}" method="post">
  <input type="text" name="add_app" id="app", placeholder="appname">
  <input type="text" name="add_user" id="user", placeholder="username">
  <input type="password" name="add_pass" id="pword", placeholder="password">
  <input type="submit" class="fadeIn fourth" name="content_button" value="addme">
</form>
<form action="{{ url_for('content') }}" method="post">
  <input type="text" name="removeapp" id="removeapp", placeholder="appname">
  <input type="text" name="removeuser" id="removeuser", placeholder="username">
  <input type="submit" class="bi bi-eye-slash" name="content_button" value="remove">
</form>
</div>

<div>
  <table class="container">
    <thead class="table-dark">
      <tr>
        <th>S.No.</th>
        <th>APP</th>
        <th>USER</th>
        <th>ADDED BY</th>
        <th>Password</th>
        <th></th>
    </thead>
    <tbody>
      

      </tr>
           {% for item in item_name %}

          <tr>
            <td> {{ item.count }}</td>
            <td>{{ item.app }}</td>
            <td>{{ item.user }}</td>
            <td>{{ item.is_admin }}</td>
            <td> <input id="password_{{ item.count }}" name="password" type="password" disabled value={{ item.password }} placeholder="*****"></td>
            <td> <button onclick="myFunction(`${ {{ item.count }} }`)">COPY</button> </td>

          </tr>
          {% endfor %}
        </tbody>
  </table>
</div>


<script>
  function myFunction(count) {
    console.log(count)
    var copyText = document.getElementById(`password_${count}`);
    copyText.select();
    copyText.setSelectionRange(0, 99999); // For mobile devices
    navigator.clipboard.writeText(copyText.value);

    // Alert the copied text
    alert("Copied the text: " + copyText.value);
  }
</script>
{% endblock %}